# å¤šç§Ÿæˆ·ç³»ç»Ÿç®¡ç†åå° å…¨æ ˆæ¶æ„æ–‡æ¡£

*åˆ›å»ºæ—¥æœŸï¼š2025-08-30*
*ç‰ˆæœ¬ï¼šv1.0*

---

## ä»‹ç»

æœ¬æ–‡æ¡£æ¦‚è¿°äº†å¤šç§Ÿæˆ·ç³»ç»Ÿç®¡ç†åå°çš„å®Œæ•´å…¨æ ˆæ¶æ„ï¼ŒåŒ…æ‹¬åç«¯ç³»ç»Ÿã€å‰ç«¯å®ç°åŠå…¶é›†æˆã€‚å®ƒä½œä¸ºAIé©±åŠ¨å¼€å‘çš„å”¯ä¸€çœŸå®æ¥æºï¼Œç¡®ä¿æ•´ä¸ªæŠ€æœ¯æ ˆçš„ä¸€è‡´æ€§ã€‚

è¿™ç§ç»Ÿä¸€çš„æ–¹æ³•ç»“åˆäº†ä¼ ç»Ÿä¸Šåˆ†ç¦»çš„åç«¯å’Œå‰ç«¯æ¶æ„æ–‡æ¡£ï¼Œç®€åŒ–äº†ç°ä»£å…¨æ ˆåº”ç”¨çš„å¼€å‘æµç¨‹ï¼Œå…¶ä¸­è¿™äº›å…³æ³¨ç‚¹è¶Šæ¥è¶Šç›¸äº’å…³è”ã€‚

### å¯åŠ¨æ¨¡æ¿æˆ–ç°æœ‰é¡¹ç›®

æœ¬é¡¹ç›®é‡‡ç”¨ç»¿åœ°å¼€å‘æ¨¡å¼ï¼ŒåŸºäºç°æœ‰æŠ€æœ¯æ ˆåå¥½ä»é›¶å¼€å§‹æ„å»ºã€‚æŠ€æœ¯é€‰æ‹©åŸºäºä»¥ä¸‹è€ƒè™‘ï¼š
- å‰ç«¯ï¼šReact + TypeScript + Ant Designï¼Œæä¾›ä¼ä¸šçº§UIç»„ä»¶å’Œç±»å‹å®‰å…¨
- åç«¯ï¼šGo + GoFrameï¼Œé‡‡ç”¨DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œå•åç«¯æ¶æ„
- æ•°æ®ï¼šMySQL + Redisï¼Œå…³ç³»å‹æ•°æ®åº“é…åˆç¼“å­˜å±‚
- ä»“åº“ï¼šMonorepoç»“æ„ï¼Œå‰ç«¯åœ¨frontend/ç›®å½•ä¸‹ï¼Œåç«¯ä¸ºå•ç‹¬backendç›®å½•

### å˜æ›´æ—¥å¿—
| æ—¥æœŸ | ç‰ˆæœ¬ | æè¿° | ä½œè€… |
|------|------|------|------|
| 2025-08-30 | v1.0 | åˆå§‹å…¨æ ˆæ¶æ„æ–‡æ¡£åˆ›å»º | AI Architect |

---

## é«˜çº§æ¶æ„

### æŠ€æœ¯æ€»ç»“

æœ¬å¤šç§Ÿæˆ·ç³»ç»Ÿé‡‡ç”¨ç°ä»£å…¨æ ˆæ¶æ„ï¼Œç»“åˆå‰åç«¯åˆ†ç¦»å’ŒMonorepoä»£ç ç»„ç»‡æ¨¡å¼ã€‚åç«¯ä½¿ç”¨Go + GoFrameæ¡†æ¶å®ç°å•ä½“åº”ç”¨ï¼Œé€šè¿‡DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ç¡®ä¿ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚å‰ç«¯åŸºäºReact + TypeScript + Ant Design + Tailwind CSSæ„å»ºå“åº”å¼ç®¡ç†ç•Œé¢ï¼Œç»“åˆAnt Designçš„ç»„ä»¶åº“å’ŒTailwindçš„åŸå­åŒ–æ ·å¼ï¼Œæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒå’Œç”¨æˆ·ç•Œé¢ã€‚

ç³»ç»Ÿé€šè¿‡JWT Tokenå®ç°èº«ä»½è®¤è¯ï¼Œé‡‡ç”¨RBACæƒé™æ¨¡å‹è¿›è¡Œç»†ç²’åº¦è®¿é—®æ§åˆ¶ã€‚æ•°æ®å±‚é¢é€šè¿‡ç§Ÿæˆ·IDå®ç°å®Œå…¨çš„æ•°æ®éš”ç¦»ï¼Œç¡®ä¿å¤šç§Ÿæˆ·ç¯å¢ƒä¸‹çš„æ•°æ®å®‰å…¨ã€‚å‰åç«¯é€šè¿‡RESTful APIè¿›è¡Œé€šä¿¡ï¼Œæ”¯æŒDockerå®¹å™¨åŒ–éƒ¨ç½²å’ŒKubernetesç¼–æ’ç®¡ç†ã€‚

### å¹³å°å’ŒåŸºç¡€è®¾æ–½é€‰æ‹©

**å¹³å°ï¼š** äº‘åŸç”Ÿéƒ¨ç½²ï¼ˆæ”¯æŒAWS/é˜¿é‡Œäº‘/è…¾è®¯äº‘ï¼‰
**æ ¸å¿ƒæœåŠ¡ï¼š** Docker + Kubernetes + MySQL + Redis + Nginx
**éƒ¨ç½²ä¸»æœºå’ŒåŒºåŸŸï¼š** å¤šåŒºåŸŸéƒ¨ç½²æ”¯æŒï¼Œä¸»è¦æœåŠ¡åŒºåŸŸä¸ºä¸­å›½å¤§é™†

åŸºäºé¡¹ç›®çš„ä¼ä¸šçº§ç‰¹æ€§å’Œå¯æ‰©å±•æ€§è¦æ±‚ï¼Œæ¨èä½¿ç”¨äº‘åŸç”Ÿéƒ¨ç½²æ–¹æ¡ˆã€‚è¿™ç§æ–¹æ¡ˆæä¾›ï¼š
- é«˜å¯ç”¨æ€§å’Œå®¹é”™èƒ½åŠ›
- å¼¹æ€§ä¼¸ç¼©å’Œè´Ÿè½½å‡è¡¡
- å®¹å™¨åŒ–ç®¡ç†å’ŒCI/CDé›†æˆ
- æˆæœ¬æ•ˆç›Šå’Œè¿ç»´ç®€åŒ–

### ä»“åº“ç»“æ„

**ç»“æ„ï¼š** Monorepoå•ä»“åº“ç®¡ç†
**Monorepoå·¥å…·ï¼š** Go Workspace + npm/yarn workspaces
**åŒ…ç»„ç»‡ç­–ç•¥ï¼š** æŒ‰åŠŸèƒ½åŸŸå’Œå…±äº«ç»„ä»¶åˆ†å±‚ç»„ç»‡

Monorepoç»“æ„ä¾¿äºä»£ç å…±äº«ã€ä¾èµ–ç®¡ç†å’Œç»Ÿä¸€æ„å»ºéƒ¨ç½²ï¼Œç‰¹åˆ«é€‚åˆå‰åç«¯ç´§å¯†åä½œçš„é¡¹ç›®ã€‚åç«¯é‡‡ç”¨DDDé¢†åŸŸç»„ç»‡ï¼Œå‰ç«¯æŒ‰åº”ç”¨å’Œå…±äº«ç»„ä»¶åˆ†ç¦»ã€‚

### é«˜çº§æ¶æ„å›¾

```mermaid
graph TB
    U[ç”¨æˆ·/ç§Ÿæˆ·ç®¡ç†å‘˜] --> LB[è´Ÿè½½å‡è¡¡å™¨ Nginx]
    SA[ç³»ç»Ÿç®¡ç†å‘˜] --> LB
    
    LB --> FE[Reactå‰ç«¯åº”ç”¨]
    FE --> API[Goåç«¯APIæœåŠ¡]
    
    API --> AUTH[è®¤è¯æˆæƒæ¨¡å—]
    API --> TENANT[ç§Ÿæˆ·ç®¡ç†æ¨¡å—]
    API --> USER[ç”¨æˆ·ç®¡ç†æ¨¡å—]
    API --> AUDIT[å®¡è®¡æ—¥å¿—æ¨¡å—]
    
    AUTH --> REDIS[Redisç¼“å­˜]
    TENANT --> DB[MySQLæ•°æ®åº“]
    USER --> DB
    AUDIT --> DB
    
    API --> REDIS
    
    subgraph "å®¹å™¨åŒ–éƒ¨ç½²"
        FE
        API
        DB
        REDIS
    end
    
    subgraph "å¤–éƒ¨æœåŠ¡"
        EMAIL[é‚®ä»¶æœåŠ¡]
        MONITOR[ç›‘æ§å‘Šè­¦]
    end
    
    API --> EMAIL
    API --> MONITOR
```

### æ¶æ„æ¨¡å¼

- **åˆ†å±‚æ¶æ„æ¨¡å¼ï¼š** å‰ç«¯å±•ç¤ºå±‚ã€APIæœåŠ¡å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚æ¸…æ™°åˆ†ç¦» - _ç†ç”±ï¼š_ ç¡®ä¿å…³æ³¨ç‚¹åˆ†ç¦»å’Œå¯ç»´æŠ¤æ€§

- **é¢†åŸŸé©±åŠ¨è®¾è®¡ (DDD)ï¼š** åç«¯æŒ‰ä¸šåŠ¡é¢†åŸŸç»„ç»‡ä»£ç ç»“æ„ï¼ŒåŒ…å«ç§Ÿæˆ·åŸŸã€ç”¨æˆ·åŸŸã€æƒé™åŸŸ - _ç†ç”±ï¼š_ æ”¯æŒå¤æ‚ä¸šåŠ¡é€»è¾‘å’Œæœªæ¥æ‰©å±•éœ€æ±‚

- **å¤šç§Ÿæˆ·æ¨¡å¼ï¼š** å…±äº«æ•°æ®åº“ï¼Œé€šè¿‡ç§Ÿæˆ·IDå®ç°æ•°æ®éš”ç¦» - _ç†ç”±ï¼š_ æˆæœ¬æ•ˆç›Šé«˜ä¸”æ»¡è¶³æ•°æ®éš”ç¦»è¦æ±‚

- **RESTful APIæ¨¡å¼ï¼š** æ ‡å‡†HTTPæ–¹æ³•å’ŒçŠ¶æ€ç ï¼Œæ”¯æŒå‰åç«¯è§£è€¦ - _ç†ç”±ï¼š_ è¡Œä¸šæ ‡å‡†ï¼Œæ˜“äºç†è§£å’Œé›†æˆ

- **JWT Tokenè®¤è¯ï¼š** æ— çŠ¶æ€è®¤è¯æœºåˆ¶ï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½² - _ç†ç”±ï¼š_ å¯æ‰©å±•æ€§å¼ºï¼Œå‡å°‘æœåŠ¡å™¨ç«¯çŠ¶æ€ç®¡ç†

- **CQRSæ¨¡å¼ï¼š** å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼Œç‰¹åˆ«ç”¨äºå®¡è®¡æ—¥å¿—åŠŸèƒ½ - _ç†ç”±ï¼š_ ä¼˜åŒ–è¯»å†™æ€§èƒ½ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢éœ€æ±‚

---

## æŠ€æœ¯æ ˆ

### æŠ€æœ¯æ ˆè¡¨

| ç±»åˆ« | æŠ€æœ¯ | ç‰ˆæœ¬ | ç›®çš„ | ç†ç”± |
|------|------|------|------|------|
| å‰ç«¯è¯­è¨€ | TypeScript | ^5.0 | ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›† | æä¾›ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ |
| å‰ç«¯æ¡†æ¶ | React | ^18.0 | ç”¨æˆ·ç•Œé¢æ„å»ºæ¡†æ¶ | ç»„ä»¶åŒ–å¼€å‘ï¼Œç”Ÿæ€ä¸°å¯Œï¼Œå›¢é˜Ÿç†Ÿæ‚‰ |
| UIç»„ä»¶åº“ | Ant Design | ^5.0 | ä¼ä¸šçº§UIè®¾è®¡è¯­è¨€ | ç»„ä»¶ä¸°å¯Œï¼Œè®¾è®¡ç»Ÿä¸€ï¼Œé€‚åˆç®¡ç†åå° |
| çŠ¶æ€ç®¡ç† | Zustand | ^4.0 | è½»é‡çº§çŠ¶æ€ç®¡ç† | ç®€å•æ˜“ç”¨ï¼ŒTypeScriptå‹å¥½ï¼Œæ€§èƒ½ä¼˜ç§€ |
| åç«¯è¯­è¨€ | Go | ^1.21 | é«˜æ€§èƒ½ç¼–è¯‘å‹è¯­è¨€ | å¹¶å‘æ€§èƒ½å¼ºï¼Œéƒ¨ç½²ç®€å•ï¼Œå†…å­˜å ç”¨ä½ |
| åç«¯æ¡†æ¶ | GoFrame | ^2.5 | ä¼ä¸šçº§Goå¼€å‘æ¡†æ¶ | DDDæ”¯æŒï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œä¸­æ–‡æ–‡æ¡£ä¸°å¯Œ |
| APIé£æ ¼ | RESTful | - | æ ‡å‡†HTTP APIè®¾è®¡é£æ ¼ | è¡Œä¸šæ ‡å‡†ï¼Œæ˜“äºç†è§£å’Œç¼“å­˜ |
| æ•°æ®åº“ | MySQL | ^8.0 | å…³ç³»å‹æ•°æ®åº“ | äº‹åŠ¡æ”¯æŒï¼Œæ•°æ®ä¸€è‡´æ€§ï¼Œè¿ç»´æˆç†Ÿ |
| ç¼“å­˜ | Redis | ^7.0 | å†…å­˜æ•°æ®åº“ | é«˜æ€§èƒ½ç¼“å­˜ï¼Œæ”¯æŒå¤šç§æ•°æ®ç»“æ„ |
| æ–‡ä»¶å­˜å‚¨ | MinIO/äº‘å­˜å‚¨ | Latest | å¯¹è±¡å­˜å‚¨æœåŠ¡ | S3å…¼å®¹ï¼Œç§æœ‰åŒ–éƒ¨ç½²æ”¯æŒ |
| è®¤è¯æˆæƒ | JWT + RBAC | - | æ— çŠ¶æ€è®¤è¯å’Œè§’è‰²æƒé™ | å¯æ‰©å±•ï¼Œæ”¯æŒåˆ†å¸ƒå¼ï¼Œç»†ç²’åº¦æ§åˆ¶ |
| å‰ç«¯æµ‹è¯• | Vitest + Testing Library | Latest | å‰ç«¯å•å…ƒå’Œé›†æˆæµ‹è¯• | å¿«é€Ÿï¼ŒTypeScriptåŸç”Ÿæ”¯æŒ |
| åç«¯æµ‹è¯• | Go Test + Testify | Latest | åç«¯å•å…ƒå’Œé›†æˆæµ‹è¯• | GoåŸç”Ÿæµ‹è¯•æ¡†æ¶ï¼Œæ–­è¨€åº“ä¸°å¯Œ |
| E2Eæµ‹è¯• | Playwright | Latest | ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµ‹è¯• | è·¨æµè§ˆå™¨æ”¯æŒï¼ŒAPIæµ‹è¯•èƒ½åŠ›å¼º |
| æ„å»ºå·¥å…· | Vite | ^5.0 | å‰ç«¯æ„å»ºå·¥å…· | å¿«é€Ÿå¼€å‘ä½“éªŒï¼Œç°ä»£åŒ–æ„å»º |
| æ‰“åŒ…å·¥å…· | Docker | Latest | å®¹å™¨åŒ–æ‰“åŒ…éƒ¨ç½² | ä¸€è‡´ç¯å¢ƒï¼Œä¾¿äºéƒ¨ç½²å’Œæ‰©å±• |
| IaCå·¥å…· | Docker Compose/K8s | Latest | åŸºç¡€è®¾æ–½å³ä»£ç  | å£°æ˜å¼é…ç½®ï¼Œç‰ˆæœ¬åŒ–ç®¡ç† |
| CI/CD | GitHub Actions | - | æŒç»­é›†æˆå’Œéƒ¨ç½² | é›†æˆåº¦é«˜ï¼Œé…ç½®çµæ´»ï¼Œæˆæœ¬ä½ |
| ç›‘æ§ | Prometheus + Grafana | Latest | æŒ‡æ ‡æ”¶é›†å’Œå¯è§†åŒ– | äº‘åŸç”Ÿæ ‡å‡†ï¼ŒåŠŸèƒ½å¼ºå¤§ |
| æ—¥å¿— | GoFrame Log + ELK | Latest | ç»“æ„åŒ–æ—¥å¿—å’Œåˆ†æ | é›†ä¸­å¼æ—¥å¿—ï¼Œæœç´¢åˆ†æèƒ½åŠ›å¼º |
| CSSæ¡†æ¶ | Tailwind CSS | ^3.0 | åŸå­åŒ–CSSæ¡†æ¶ | å¿«é€Ÿå¼€å‘ï¼Œé«˜åº¦å¯å®šåˆ¶ï¼Œä¸Ant Designå®Œç¾é…åˆ |

---

## æ•°æ®æ¨¡å‹

### Tenant (ç§Ÿæˆ·)

**ç›®çš„ï¼š** è¡¨ç¤ºç³»ç»Ÿä¸­çš„ç§Ÿæˆ·ç»„ç»‡ï¼Œå®ç°å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»

**å…³é”®å±æ€§ï¼š**
- id: string - ç§Ÿæˆ·å”¯ä¸€æ ‡è¯†ç¬¦
- name: string - ç§Ÿæˆ·åç§°
- code: string - ç§Ÿæˆ·ä»£ç ï¼ˆç”¨äºå­åŸŸåç­‰ï¼‰
- status: TenantStatus - ç§Ÿæˆ·çŠ¶æ€ï¼ˆæ´»è·ƒ/æš‚åœ/ç¦ç”¨ï¼‰
- config: TenantConfig - ç§Ÿæˆ·é…ç½®ä¿¡æ¯
- createdAt: Date - åˆ›å»ºæ—¶é—´
- updatedAt: Date - æ›´æ–°æ—¶é—´

#### TypeScriptæ¥å£

```typescript
interface Tenant {
  id: string;
  name: string;
  code: string;
  status: 'active' | 'suspended' | 'disabled';
  config: {
    maxUsers: number;
    features: string[];
    theme?: string;
    domain?: string;
  };
  adminUserId?: string;
  createdAt: Date;
  updatedAt: Date;
}

enum TenantStatus {
  Active = 'active',
  Suspended = 'suspended', 
  Disabled = 'disabled'
}
```

#### å…³ç³»
- ä¸€å¯¹å¤šï¼šä¸€ä¸ªç§Ÿæˆ·å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·
- ä¸€å¯¹ä¸€ï¼šä¸€ä¸ªç§Ÿæˆ·æœ‰ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·

### User (ç”¨æˆ·)

**ç›®çš„ï¼š** è¡¨ç¤ºç³»ç»Ÿç”¨æˆ·ï¼Œæ”¯æŒç³»ç»Ÿç®¡ç†å‘˜å’Œç§Ÿæˆ·ç”¨æˆ·ä¸¤ç§è§’è‰²

**å…³é”®å±æ€§ï¼š**
- id: string - ç”¨æˆ·å”¯ä¸€æ ‡è¯†ç¬¦
- tenantId: string - æ‰€å±ç§Ÿæˆ·IDï¼ˆç³»ç»Ÿç®¡ç†å‘˜ä¸ºç©ºï¼‰
- username: string - ç”¨æˆ·å
- email: string - é‚®ç®±åœ°å€
- hashedPassword: string - åŠ å¯†åçš„å¯†ç 
- roles: Role[] - ç”¨æˆ·è§’è‰²åˆ—è¡¨
- profile: UserProfile - ç”¨æˆ·èµ„æ–™
- status: UserStatus - ç”¨æˆ·çŠ¶æ€

#### TypeScriptæ¥å£

```typescript
interface User {
  id: string;
  tenantId?: string; // ä¸ºç©ºè¡¨ç¤ºç³»ç»Ÿç®¡ç†å‘˜
  username: string;
  email: string;
  hashedPassword: string;
  roles: Role[];
  profile: {
    firstName: string;
    lastName: string;
    avatar?: string;
    phone?: string;
  };
  status: 'active' | 'inactive' | 'locked';
  lastLoginAt?: Date;
  createdAt: Date;
  updatedAt: Date;
}
```

#### å…³ç³»
- å¤šå¯¹ä¸€ï¼šå¤šä¸ªç”¨æˆ·å±äºä¸€ä¸ªç§Ÿæˆ·
- å¤šå¯¹å¤šï¼šç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªè§’è‰²

### Role (è§’è‰²)

**ç›®çš„ï¼š** å®šä¹‰ç”¨æˆ·è§’è‰²å’Œæƒé™é›†åˆï¼Œå®ç°RBACæƒé™æ§åˆ¶

**å…³é”®å±æ€§ï¼š**
- id: string - è§’è‰²å”¯ä¸€æ ‡è¯†ç¬¦
- tenantId: string - æ‰€å±ç§Ÿæˆ·IDï¼ˆç³»ç»Ÿè§’è‰²ä¸ºç©ºï¼‰
- name: string - è§’è‰²åç§°
- code: string - è§’è‰²ä»£ç 
- permissions: Permission[] - æƒé™åˆ—è¡¨
- isSystem: boolean - æ˜¯å¦ä¸ºç³»ç»Ÿå†…ç½®è§’è‰²

#### TypeScriptæ¥å£

```typescript
interface Role {
  id: string;
  tenantId?: string; // ä¸ºç©ºè¡¨ç¤ºç³»ç»Ÿè§’è‰²
  name: string;
  code: string;
  description?: string;
  permissions: Permission[];
  isSystem: boolean;
  createdAt: Date;
  updatedAt: Date;
}
```

#### å…³ç³»
- å¤šå¯¹å¤šï¼šè§’è‰²å¯ä»¥åˆ†é…ç»™å¤šä¸ªç”¨æˆ·
- å¤šå¯¹å¤šï¼šè§’è‰²å¯ä»¥åŒ…å«å¤šä¸ªæƒé™

### Permission (æƒé™)

**ç›®çš„ï¼š** å®šä¹‰ç³»ç»Ÿä¸­çš„å…·ä½“æƒé™ç‚¹ï¼Œæ”¯æŒç»†ç²’åº¦è®¿é—®æ§åˆ¶

**å…³é”®å±æ€§ï¼š**
- id: string - æƒé™å”¯ä¸€æ ‡è¯†ç¬¦
- name: string - æƒé™åç§°
- code: string - æƒé™ä»£ç 
- resource: string - èµ„æºåç§°
- action: string - æ“ä½œç±»å‹
- scope: PermissionScope - æƒé™èŒƒå›´

#### TypeScriptæ¥å£

```typescript
interface Permission {
  id: string;
  name: string;
  code: string; // å¦‚ï¼štenant.create, user.read
  resource: string; // å¦‚ï¼štenant, user, role
  action: string; // å¦‚ï¼šcreate, read, update, delete
  scope: 'system' | 'tenant' | 'self';
  description?: string;
  isSystem: boolean;
}
```

#### å…³ç³»
- å¤šå¯¹å¤šï¼šæƒé™å¯ä»¥åˆ†é…ç»™å¤šä¸ªè§’è‰²

### AuditLog (å®¡è®¡æ—¥å¿—)

**ç›®çš„ï¼š** è®°å½•ç³»ç»Ÿä¸­çš„é‡è¦æ“ä½œï¼Œç”¨äºå®¡è®¡å’Œç›‘æ§

**å…³é”®å±æ€§ï¼š**
- id: string - æ—¥å¿—å”¯ä¸€æ ‡è¯†ç¬¦
- tenantId: string - ç§Ÿæˆ·ID
- userId: string - æ“ä½œç”¨æˆ·ID
- action: string - æ“ä½œç±»å‹
- resource: string - æ“ä½œèµ„æº
- details: object - æ“ä½œè¯¦æƒ…
- timestamp: Date - æ“ä½œæ—¶é—´

#### TypeScriptæ¥å£

```typescript
interface AuditLog {
  id: string;
  tenantId?: string;
  userId: string;
  action: string; // create, update, delete, login, logout
  resource: string; // user, tenant, role, permission
  resourceId?: string;
  details: {
    before?: any;
    after?: any;
    metadata: Record<string, any>;
  };
  ipAddress?: string;
  userAgent?: string;
  timestamp: Date;
}
```

#### å…³ç³»
- å¤šå¯¹ä¸€ï¼šå¤šä¸ªæ—¥å¿—è®°å½•å±äºä¸€ä¸ªç§Ÿæˆ·
- å¤šå¯¹ä¸€ï¼šå¤šä¸ªæ—¥å¿—è®°å½•å±äºä¸€ä¸ªç”¨æˆ·

---

## APIè§„æ ¼

### REST APIè§„æ ¼

```yaml
openapi: 3.0.0
info:
  title: å¤šç§Ÿæˆ·ç³»ç»Ÿç®¡ç†åå° API
  version: 1.0.0
  description: æ”¯æŒå¤šç§Ÿæˆ·çš„ç³»ç»Ÿç®¡ç†åå°RESTful APIæ¥å£
servers:
  - url: https://api.example.com/v1
    description: ç”Ÿäº§ç¯å¢ƒ
  - url: http://localhost:8000/v1  
    description: å¼€å‘ç¯å¢ƒ

paths:
  # è®¤è¯ç›¸å…³
  /auth/login:
    post:
      summary: ç”¨æˆ·ç™»å½•
      tags: [Authentication]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
                tenantCode:
                  type: string
                  description: ç§Ÿæˆ·ä»£ç ï¼ˆç³»ç»Ÿç®¡ç†å‘˜å¯ä¸ºç©ºï¼‰
      responses:
        '200':
          description: ç™»å½•æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                  user:
                    $ref: '#/components/schemas/User'
                    
  # ç§Ÿæˆ·ç®¡ç†
  /tenants:
    get:
      summary: è·å–ç§Ÿæˆ·åˆ—è¡¨
      tags: [Tenants]
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
        - name: status
          in: query
          schema:
            type: string
            enum: [active, suspended, disabled]
      responses:
        '200':
          description: ç§Ÿæˆ·åˆ—è¡¨
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Tenant'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
    post:
      summary: åˆ›å»ºç§Ÿæˆ·
      tags: [Tenants]
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTenantRequest'
      responses:
        '201':
          description: ç§Ÿæˆ·åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'

  /tenants/{tenantId}:
    get:
      summary: è·å–ç§Ÿæˆ·è¯¦æƒ…
      tags: [Tenants]
      security:
        - BearerAuth: []
      parameters:
        - name: tenantId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ç§Ÿæˆ·è¯¦æƒ…
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'
    put:
      summary: æ›´æ–°ç§Ÿæˆ·
      tags: [Tenants]  
      security:
        - BearerAuth: []
      parameters:
        - name: tenantId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTenantRequest'
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'

  # ç”¨æˆ·ç®¡ç†  
  /users:
    get:
      summary: è·å–ç”¨æˆ·åˆ—è¡¨
      tags: [Users]
      security:
        - BearerAuth: []
      parameters:
        - name: tenantId
          in: query
          schema:
            type: string
          description: ç§Ÿæˆ·IDï¼ˆç³»ç»Ÿç®¡ç†å‘˜å¯æŸ¥çœ‹æ‰€æœ‰ï¼‰
        - name: page
          in: query
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: ç”¨æˆ·åˆ—è¡¨
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
    post:
      summary: åˆ›å»ºç”¨æˆ·
      tags: [Users]
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
      responses:
        '201':
          description: ç”¨æˆ·åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      
  schemas:
    Tenant:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        code:
          type: string
        status:
          type: string
          enum: [active, suspended, disabled]
        config:
          type: object
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
          
    User:
      type: object
      properties:
        id:
          type: string
        tenantId:
          type: string
          nullable: true
        username:
          type: string
        email:
          type: string
        profile:
          type: object
        status:
          type: string
          enum: [active, inactive, locked]
        roles:
          type: array
          items:
            $ref: '#/components/schemas/Role'
        createdAt:
          type: string
          format: date-time
          
    Role:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        code:
          type: string
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
            
    Permission:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        code:
          type: string
        resource:
          type: string
        action:
          type: string
        scope:
          type: string
          enum: [system, tenant, self]
          
    Pagination:
      type: object
      properties:
        page:
          type: integer
        limit:
          type: integer
        total:
          type: integer
        pages:
          type: integer
          
    CreateTenantRequest:
      type: object
      required: [name, code]
      properties:
        name:
          type: string
        code:
          type: string
        config:
          type: object
        adminUser:
          type: object
          properties:
            username:
              type: string
            email:
              type: string
            password:
              type: string
              
    UpdateTenantRequest:
      type: object
      properties:
        name:
          type: string
        status:
          type: string
          enum: [active, suspended, disabled]
        config:
          type: object
          
    CreateUserRequest:
      type: object
      required: [username, email, password]
      properties:
        tenantId:
          type: string
        username:
          type: string
        email:
          type: string
        password:
          type: string
        profile:
          type: object
        roleIds:
          type: array
          items:
            type: string
```

---

## ç»„ä»¶

### è®¤è¯æˆæƒæœåŠ¡

**èŒè´£ï¼š** å¤„ç†ç”¨æˆ·è®¤è¯ã€JWT Tokenç®¡ç†å’Œæƒé™éªŒè¯

**å…³é”®æ¥å£ï¼š**
- `Login(credentials) -> AuthResult`
- `ValidateToken(token) -> User`
- `CheckPermission(user, resource, action) -> boolean`

**ä¾èµ–ï¼š** Redisç¼“å­˜ã€ç”¨æˆ·æœåŠ¡ã€æƒé™æœåŠ¡

**æŠ€æœ¯æ ˆè¯¦æƒ…ï¼š** GoFrameä¸­é—´ä»¶å®ç°ï¼ŒJWTåº“å¤„ç†Tokenç”Ÿæˆå’ŒéªŒè¯ï¼ŒRediså­˜å‚¨Sessionä¿¡æ¯

### ç§Ÿæˆ·ç®¡ç†æœåŠ¡

**èŒè´£ï¼š** ç®¡ç†ç§Ÿæˆ·çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ›å»ºã€é…ç½®ã€çŠ¶æ€ç®¡ç†

**å…³é”®æ¥å£ï¼š**
- `CreateTenant(tenantData) -> Tenant`
- `UpdateTenant(id, updates) -> Tenant`
- `GetTenantByCode(code) -> Tenant`

**ä¾èµ–ï¼š** æ•°æ®åº“æœåŠ¡ã€ç”¨æˆ·æœåŠ¡ã€é‚®ä»¶æœåŠ¡

**æŠ€æœ¯æ ˆè¯¦æƒ…ï¼š** GoFrameé¢†åŸŸæœåŠ¡ï¼ŒMySQLäº‹åŠ¡æ”¯æŒï¼Œé‚®ä»¶é€šçŸ¥é›†æˆ

### ç”¨æˆ·ç®¡ç†æœåŠ¡

**èŒè´£ï¼š** ç®¡ç†ç”¨æˆ·è´¦æˆ·ã€è§’è‰²åˆ†é…å’Œç”¨æˆ·èµ„æ–™

**å…³é”®æ¥å£ï¼š**
- `CreateUser(userData) -> User`
- `AssignRoles(userId, roleIds) -> boolean`
- `GetUsersByTenant(tenantId) -> User[]`

**ä¾èµ–ï¼š** æ•°æ®åº“æœåŠ¡ã€æƒé™æœåŠ¡ã€è®¤è¯æœåŠ¡

**æŠ€æœ¯æ ˆè¯¦æƒ…ï¼š** GoFrameå®ä½“ç®¡ç†ï¼Œå¯†ç åŠ å¯†ï¼Œå¤šç§Ÿæˆ·æ•°æ®éš”ç¦»

### æƒé™ç®¡ç†æœåŠ¡

**èŒè´£ï¼š** ç®¡ç†è§’è‰²å’Œæƒé™å®šä¹‰ï¼Œæä¾›æƒé™æ£€æŸ¥åŠŸèƒ½

**å…³é”®æ¥å£ï¼š**
- `CreateRole(roleData) -> Role`
- `AssignPermissions(roleId, permissionIds) -> boolean`
- `CheckUserPermission(userId, resource, action) -> boolean`

**ä¾èµ–ï¼š** æ•°æ®åº“æœåŠ¡ã€ç¼“å­˜æœåŠ¡

**æŠ€æœ¯æ ˆè¯¦æƒ…ï¼š** RBACæ¨¡å‹å®ç°ï¼Œæƒé™ç¼“å­˜æœºåˆ¶ï¼Œå±‚æ¬¡åŒ–æƒé™ç»§æ‰¿

### å®¡è®¡æ—¥å¿—æœåŠ¡

**èŒè´£ï¼š** è®°å½•å’ŒæŸ¥è¯¢ç³»ç»Ÿæ“ä½œå®¡è®¡æ—¥å¿—

**å…³é”®æ¥å£ï¼š**
- `LogOperation(auditData) -> AuditLog`
- `QueryLogs(filters) -> AuditLog[]`
- `ExportLogs(filters) -> File`

**ä¾èµ–ï¼š** æ•°æ®åº“æœåŠ¡ã€æœç´¢å¼•æ“

**æŠ€æœ¯æ ˆè¯¦æƒ…ï¼š** å¼‚æ­¥æ—¥å¿—å†™å…¥ï¼ŒElasticsearché›†æˆï¼ŒCQRSæ¨¡å¼æŸ¥è¯¢

### å‰ç«¯Reactåº”ç”¨

**èŒè´£ï¼š** æä¾›ç”¨æˆ·ç•Œé¢å’Œç”¨æˆ·äº¤äº’ä½“éªŒ

**å…³é”®æ¥å£ï¼š**
- é¡µé¢è·¯ç”±å’Œå¯¼èˆª
- ç»„ä»¶çŠ¶æ€ç®¡ç†
- APIè¯·æ±‚å’Œå“åº”å¤„ç†

**ä¾èµ–ï¼š** åç«¯APIæœåŠ¡ã€CDNæœåŠ¡

**æŠ€æœ¯æ ˆè¯¦æƒ…ï¼š** React + TypeScript + Ant Design + Tailwind CSSï¼ŒZustandçŠ¶æ€ç®¡ç†ï¼ŒViteæ„å»º

---

## ç»Ÿä¸€é¡¹ç›®ç»“æ„

```plaintext
multi-tenant-admin/
â”œâ”€â”€ .github/                    # CI/CD workflows
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yaml
â”‚       â””â”€â”€ deploy.yaml
â”œâ”€â”€ frontend/                   # å‰ç«¯åº”ç”¨åŒ…
â”‚   â”œâ”€â”€ apps/                   # åº”ç”¨ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ admin-web/          # ç®¡ç†åå°å‰ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/     # UIç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ services/       # APIå®¢æˆ·ç«¯æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ stores/         # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ styles/         # Tailwind CSSæ ·å¼
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ utils/          # å‰ç«¯å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ public/             # é™æ€èµ„æº
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/              # å‰ç«¯æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ tailwind.config.js  # Tailwind CSSé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ postcss.config.js   # PostCSSé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ Dockerfile          # å‰ç«¯Dockeré•œåƒ
â”‚   â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ packages/               # å…±äº«åŒ…
â”‚   â”‚   â”œâ”€â”€ shared/             # å…±äº«ç±»å‹å’Œå·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ types/          # TypeScriptæ¥å£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ constants/      # å…±äº«å¸¸é‡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ utils/          # å…±äº«å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ ui/                 # å…±äº«UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚   â””â”€â”€ config/             # å…±äº«é…ç½®
â”‚   â”‚       â”œâ”€â”€ eslint/
â”‚   â”‚       â”œâ”€â”€ typescript/
â”‚   â”‚       â”œâ”€â”€ tailwind/           # Tailwindå…±äº«é…ç½®
â”‚   â”‚       â””â”€â”€ jest/
â”œâ”€â”€ backend/                    # åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ cmd/                    # åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ main.go
â”‚   â”œâ”€â”€ api/                    # APIæ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ handlers/           # HTTPå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ routes/             # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ domain/                 # é¢†åŸŸå±‚
â”‚   â”‚   â”œâ”€â”€ tenant/             # ç§Ÿæˆ·é¢†åŸŸ
â”‚   â”‚   â”œâ”€â”€ user/               # ç”¨æˆ·é¢†åŸŸ
â”‚   â”‚   â”œâ”€â”€ auth/               # è®¤è¯é¢†åŸŸ
â”‚   â”‚   â””â”€â”€ audit/              # å®¡è®¡é¢†åŸŸ
â”‚   â”œâ”€â”€ application/            # åº”ç”¨æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ tenant/             # ç§Ÿæˆ·åº”ç”¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ user/               # ç”¨æˆ·åº”ç”¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ auth/               # è®¤è¯åº”ç”¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ audit/              # å®¡è®¡åº”ç”¨æœåŠ¡
â”‚   â”œâ”€â”€ repository/             # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ mysql/              # MySQLå®ç°
â”‚   â”‚   â”œâ”€â”€ redis/              # Rediså®ç°
â”‚   â”‚   â””â”€â”€ interfaces/         # ä»“å‚¨æ¥å£
â”‚   â”œâ”€â”€ infr/                   # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”œâ”€â”€ database/           # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ cache/              # ç¼“å­˜é…ç½®
â”‚   â”‚   â”œâ”€â”€ email/              # é‚®ä»¶æœåŠ¡
â”‚   â”‚   â””â”€â”€ storage/            # æ–‡ä»¶å­˜å‚¨
â”‚   â”œâ”€â”€ pkg/                    # å…±äº«åŒ…
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ errors/             # é”™è¯¯å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ config/             # é…ç½®ç»“æ„
â”‚   â”‚   â””â”€â”€ logger/             # æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ tests/                  # åç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ configs/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.yaml     # Dockerç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ Dockerfile              # åç«¯Dockeré•œåƒ
â”‚   â”œâ”€â”€ go.work                 # Go Workspaceé…ç½®
â”‚   â””â”€â”€ go.mod                  # Goæ¨¡å—é…ç½® (github.com/gofromzero/project_temp/backend)
â”œâ”€â”€ scripts/                    # æ„å»ºéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”‚   â”œâ”€â”€ prd.md
â”‚   â”œâ”€â”€ front-end-spec.md
â”‚   â””â”€â”€ architecture.md
â”œâ”€â”€ .env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

---

## å¼€å‘å·¥ä½œæµç¨‹

### æœ¬åœ°å¼€å‘è®¾ç½®

#### å‰ç½®æ¡ä»¶

```bash
# å®‰è£…Go 1.21+
go version

# å®‰è£…Node.js 18+
node --version

# å®‰è£…Docker
docker --version

# å®‰è£…MySQLå’ŒRedisï¼ˆæˆ–ä½¿ç”¨Dockerï¼‰
mysql --version
redis-cli --version
```

#### åˆå§‹è®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourorg/multi-tenant-admin.git
cd multi-tenant-admin

# åˆå§‹åŒ–Go Workspace
go work init ./backend

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# è®¾ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥ç­‰

# å¯åŠ¨ä¾èµ–æœåŠ¡ï¼ˆMySQLã€Redisï¼‰
docker-compose up -d mysql redis

# æ•°æ®åº“è¿ç§»
cd backend
go run cmd/main.go migrate

# åˆå§‹åŒ–æ•°æ®ï¼ˆåˆ›å»ºç³»ç»Ÿç®¡ç†å‘˜ï¼‰
go run cmd/main.go seed
```

#### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ¨èï¼‰
npm run dev

# ä»…å¯åŠ¨å‰ç«¯
cd frontend/apps/admin-web
npm run dev

# ä»…å¯åŠ¨åç«¯
cd backend
go run cmd/main.go serve

# è¿è¡Œæµ‹è¯•
npm run test        # å‰ç«¯æµ‹è¯•
go test ./...       # åç«¯æµ‹è¯•
npm run test:e2e    # E2Eæµ‹è¯•
```

### ç¯å¢ƒé…ç½®

#### å¿…éœ€ç¯å¢ƒå˜é‡

```bash
# å‰ç«¯ (.env.local)
VITE_API_URL=http://localhost:8000/v1
VITE_APP_TITLE=å¤šç§Ÿæˆ·ç³»ç»Ÿç®¡ç†åå°

# åç«¯ (.env)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=multi_tenant_admin

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRE_HOURS=24

EMAIL_SMTP_HOST=smtp.example.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=noreply@example.com
EMAIL_PASSWORD=your_email_password

# å…±äº«
LOG_LEVEL=info
APP_ENV=development
```

---

## éƒ¨ç½²æ¶æ„

### éƒ¨ç½²ç­–ç•¥

**å‰ç«¯éƒ¨ç½²ï¼š**
- **å¹³å°ï¼š** Vercel/Netlify/è‡ªå»ºCDN
- **æ„å»ºå‘½ä»¤ï¼š** `npm run build`
- **è¾“å‡ºç›®å½•ï¼š** `frontend/apps/admin-web/dist`
- **CDN/è¾¹ç¼˜ï¼š** å…¨çƒCDNåŠ é€Ÿï¼Œé™æ€èµ„æºç¼“å­˜

**åç«¯éƒ¨ç½²ï¼š**
- **å¹³å°ï¼š** Kubernetesé›†ç¾¤/äº‘æœåŠ¡å™¨
- **æ„å»ºå‘½ä»¤ï¼š** `go build -o app cmd/main.go`
- **éƒ¨ç½²æ–¹æ³•ï¼š** Dockerå®¹å™¨åŒ–éƒ¨ç½²ï¼Œå¤šå‰¯æœ¬è´Ÿè½½å‡è¡¡

### CI/CDæµæ°´çº¿

```yaml
name: Build and Deploy
on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v4
        with:
          go-version: '1.21'
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      # åç«¯æµ‹è¯•
      - name: Run Go tests
        run: |
          cd backend
          go test ./...
      
      # å‰ç«¯æµ‹è¯•
      - name: Install frontend dependencies
        run: |
          cd frontend
          npm ci
      
      - name: Run frontend tests
        run: |
          cd frontend
          npm run test
          
      # E2Eæµ‹è¯•
      - name: Run E2E tests
        run: |
          npm run test:e2e

  build-and-deploy:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v3
      
      # æ„å»ºåç«¯
      - name: Build backend Docker image
        run: |
          docker build -f infrastructure/docker/Dockerfile.backend -t backend:latest .
      
      # æ„å»ºå‰ç«¯
      - name: Build frontend
        run: |
          cd frontend
          npm ci
          npm run build
          
      # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
      - name: Deploy to production
        run: |
          # Kuberneteséƒ¨ç½²å‘½ä»¤
          kubectl apply -f infrastructure/k8s/
```

### ç¯å¢ƒé…ç½®

| ç¯å¢ƒ | å‰ç«¯URL | åç«¯URL | ç”¨é€” |
|------|---------|---------|------|
| Development | http://localhost:3000 | http://localhost:8000 | æœ¬åœ°å¼€å‘ |
| Staging | https://staging-admin.example.com | https://staging-api.example.com | é¢„ç”Ÿäº§æµ‹è¯• |
| Production | https://admin.example.com | https://api.example.com | ç”Ÿäº§ç¯å¢ƒ |

## åç«¯æ¶æ„ä¼˜åŒ–è¯´æ˜

### æ¶æ„é‡æ„ï¼ˆå»é™¤ internal å±‚ï¼‰

ä¸ºäº†ç®€åŒ–é¡¹ç›®ç»“æ„å¹¶æå‡å¼€å‘ä½“éªŒï¼Œæˆ‘ä»¬å¯¹åç«¯æ¶æ„è¿›è¡Œäº†é‡æ„ï¼š

**ä¸»è¦å˜æ›´ï¼š**
- **ç§»é™¤ internal å±‚** - æ‰€æœ‰æ¨¡å—ç›´æ¥æ”¾åœ¨ backend æ ¹ç›®å½•ä¸‹
- **å¹³å¦åŒ–ç»“æ„** - å‡å°‘åµŒå¥—å±‚çº§ï¼ŒåŒ…å¯¼å…¥è·¯å¾„æ›´ç®€æ´
- **ä¿æŒ DDD åˆ†å±‚** - APIã€é¢†åŸŸã€åº”ç”¨ã€ä»“å‚¨ã€åŸºç¡€è®¾æ–½å±‚æ¬¡æ¸…æ™°åˆ†ç¦»

**æ–°æ¶æ„å±‚æ¬¡ï¼š**
1. **API å±‚** (`api/`) - HTTP å¤„ç†å™¨ã€ä¸­é—´ä»¶ã€è·¯ç”±
2. **é¢†åŸŸå±‚** (`domain/`) - ä¸šåŠ¡å®ä½“å’Œé¢†åŸŸé€»è¾‘
3. **åº”ç”¨å±‚** (`application/`) - ä¸šåŠ¡ç”¨ä¾‹ç¼–æ’å’Œåº”ç”¨æœåŠ¡
4. **ä»“å‚¨å±‚** (`repository/`) - æ•°æ®è®¿é—®æŠ½è±¡å’Œå®ç°
5. **åŸºç¡€è®¾æ–½å±‚** (`infr/`) - å¤–éƒ¨æœåŠ¡é›†æˆ
6. **å…±äº«åŒ…** (`pkg/`) - è·¨å±‚å…±äº«ç»„ä»¶

**æ¶æ„ä¼˜åŠ¿ï¼š**
- ğŸ“ æ›´ç›´è§‚çš„ç›®å½•ç»“æ„ï¼Œä¾¿äºå¿«é€Ÿå®šä½ä»£ç 
- ğŸ” ç®€åŒ–çš„åŒ…å¯¼å…¥è·¯å¾„ï¼Œå¦‚ `backend/domain/tenant` vs `backend/internal/domain/tenant`
- ğŸ—ï¸ ä¿æŒæ¸…æ´æ¶æ„åŸåˆ™ï¼Œç¡®ä¿å±‚æ¬¡åˆ†ç¦»å’Œä¾èµ–æ–¹å‘
- ğŸš€ æå‡å¼€å‘æ•ˆç‡ï¼Œå‡å°‘è®¤çŸ¥è´Ÿæ‹…

è¿™ç§é‡æ„åœ¨ä¿æŒ DDD æ¶æ„å®Œæ•´æ€§çš„åŒæ—¶ï¼Œæ˜¾è‘—ç®€åŒ–äº†é¡¹ç›®çš„ç»„ç»‡å¤æ‚åº¦ã€‚

---

å…¨æ ˆæ¶æ„æ–‡æ¡£å·²æ›´æ–°å®Œæˆï¼æ–‡æ¡£æ¶µç›–äº†å¤šç§Ÿæˆ·ç³»ç»Ÿç®¡ç†åå°çš„å®Œæ•´æŠ€æœ¯æ¶æ„ï¼ŒåŒ…æ‹¬ï¼š

âœ… é«˜çº§æ¶æ„æ¦‚è¿°å’ŒæŠ€æœ¯é€‰å‹
âœ… å®Œæ•´çš„æŠ€æœ¯æ ˆå®šä¹‰è¡¨
âœ… è¯¦ç»†çš„æ•°æ®æ¨¡å‹è®¾è®¡
âœ… RESTful APIè§„æ ¼è¯´æ˜
âœ… ç»„ä»¶æ¶æ„å’ŒèŒè´£åˆ’åˆ†
âœ… ä¼˜åŒ–åçš„é¡¹ç›®ç»“æ„ï¼ˆå»é™¤ internal å±‚ï¼‰
âœ… å¼€å‘å·¥ä½œæµç¨‹å’Œç¯å¢ƒé…ç½®
âœ… CI/CDéƒ¨ç½²æ¶æ„

æ–‡æ¡£åŸºäºç°ä»£åŒ–çš„åç«¯æ¶æ„è®¾è®¡ï¼Œç¡®ä¿äº†æŠ€æœ¯æ ˆçš„ä¸€è‡´æ€§ï¼ˆGo + GoFrame + DDD åç«¯ï¼ŒReact + TS + Ant Design å‰ç«¯ï¼‰ï¼Œå¹¶è¯¦ç»†å®šä¹‰äº†å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»ã€RBACæƒé™æ¨¡å‹ç­‰æ ¸å¿ƒæ¶æ„å†³ç­–ã€‚