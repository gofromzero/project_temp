# 后端架构优化说明

## 架构重构（去除 internal 层）

为了简化项目结构并提升开发体验，我们对后端架构进行了重构：

**主要变更：**
- **移除 internal 层** - 所有模块直接放在 backend 根目录下
- **平坦化结构** - 减少嵌套层级，包导入路径更简洁
- **保持 DDD 分层** - API、领域、应用、仓储、基础设施层次清晰分离

**新架构层次：**
1. **API 层** (`api/`) - HTTP 处理器、中间件、路由
2. **领域层** (`domain/`) - 业务实体和领域逻辑
3. **应用层** (`application/`) - 业务用例编排和应用服务
4. **仓储层** (`repository/`) - 数据访问抽象和实现
5. **基础设施层** (`infr/`) - 外部服务集成
6. **共享包** (`pkg/`) - 跨层共享组件

**架构优势：**
- 📁 更直观的目录结构，便于快速定位代码
- 🔍 简化的包导入路径，如 `backend/domain/tenant` vs `backend/internal/domain/tenant`
- 🏗️ 保持清洁架构原则，确保层次分离和依赖方向
- 🚀 提升开发效率，减少认知负担

这种重构在保持 DDD 架构完整性的同时，显著简化了项目的组织复杂度。

---

全栈架构文档已更新完成！文档涵盖了多租户系统管理后台的完整技术架构，包括：

✅ 高级架构概述和技术选型
✅ 完整的技术栈定义表
✅ 详细的数据模型设计
✅ RESTful API规格说明
✅ 组件架构和职责划分
✅ 优化后的项目结构（去除 internal 层）
✅ 开发工作流程和环境配置
✅ CI/CD部署架构

文档基于现代化的后端架构设计，确保了技术栈的一致性（Go + GoFrame + DDD 后端，React + TS + Ant Design 前端），并详细定义了多租户数据隔离、RBAC权限模型等核心架构决策。